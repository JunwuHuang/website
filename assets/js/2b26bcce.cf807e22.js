"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9914],{9548:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>r,frontMatter:()=>c,metadata:()=>s,toc:()=>h});var i=t(4848),o=t(8453);const c={},a="LRU \u7f13\u5b58",s={type:"mdx",permalink:"/website/leetcode/lru-cache/",source:"@site/src/pages/leetcode/lru-cache/index.md",title:"LRU \u7f13\u5b58",description:"2022/12/04",frontMatter:{},unlisted:!1},d={},h=[{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:2},{value:"\u793a\u4f8b\u4e00",id:"\u793a\u4f8b\u4e00",level:3},{value:"\u9898\u89e3\u53c2\u8003",id:"\u9898\u89e3\u53c2\u8003",level:2},{value:"\u54c8\u5e0c\u8868\u4e0e\u53cc\u5411\u94fe\u8868",id:"\u54c8\u5e0c\u8868\u4e0e\u53cc\u5411\u94fe\u8868",level:3}];function l(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"lru-\u7f13\u5b58",children:"LRU \u7f13\u5b58"}),"\n",(0,i.jsx)(n.p,{children:"2022/12/04"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://leetcode.cn/problems/lru-cache/",children:"https://leetcode.cn/problems/lru-cache/"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"\u793a\u4f8b",children:"\u793a\u4f8b"}),"\n",(0,i.jsx)(n.h3,{id:"\u793a\u4f8b\u4e00",children:"\u793a\u4f8b\u4e00"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:'\u8f93\u5165\n["LRUCache", "put", "put", "get", "put", "get", "put", "get", "get", "get"]\n[[2], [1, 1], [2, 2], [1], [3, 3], [2], [4, 4], [1], [3], [4]]\n\u8f93\u51fa\n[null, null, null, 1, null, -1, null, -1, 3, 4]\n\n\u89e3\u91ca\nLRUCache lRUCache = new LRUCache(2);\nlRUCache.put(1, 1); // \u7f13\u5b58\u662f {1=1}\nlRUCache.put(2, 2); // \u7f13\u5b58\u662f {1=1, 2=2}\nlRUCache.get(1);    // \u8fd4\u56de 1\nlRUCache.put(3, 3); // \u8be5\u64cd\u4f5c\u4f1a\u4f7f\u5f97\u5173\u952e\u5b57 2 \u4f5c\u5e9f\uff0c\u7f13\u5b58\u662f {1=1, 3=3}\nlRUCache.get(2);    // \u8fd4\u56de -1 (\u672a\u627e\u5230)\nlRUCache.put(4, 4); // \u8be5\u64cd\u4f5c\u4f1a\u4f7f\u5f97\u5173\u952e\u5b57 1 \u4f5c\u5e9f\uff0c\u7f13\u5b58\u662f {4=4, 3=3}\nlRUCache.get(1);    // \u8fd4\u56de -1 (\u672a\u627e\u5230)\nlRUCache.get(3);    // \u8fd4\u56de 3\nlRUCache.get(4);    // \u8fd4\u56de 4\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\u9898\u89e3\u53c2\u8003",children:"\u9898\u89e3\u53c2\u8003"}),"\n",(0,i.jsx)(n.h3,{id:"\u54c8\u5e0c\u8868\u4e0e\u53cc\u5411\u94fe\u8868",children:"\u54c8\u5e0c\u8868\u4e0e\u53cc\u5411\u94fe\u8868"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"function LinkedNode(key, value) {\n    this.key = key\n    this.value = value\n    this.next = null\n    this.prev = null\n    return this\n}\n\n/**\n * @param {number} capacity\n */\nvar LRUCache = function(capacity) {\n    this.size = 0\n    this.capacity = capacity\n    this.head = new LinkedNode()\n    this.tail = new LinkedNode()\n    this.head.next = this.tail\n    this.tail.prev = this.head\n    this.cache = new Map()\n\n    this.removeNode = function(node) {\n        node.prev.next = node.next\n        node.next.prev = node.prev\n    }\n\n    this.addToHead = function(node) {\n        node.prev = this.head\n        node.next = this.head.next\n        this.head.next.prev = node\n        this.head.next = node\n    }\n\n    this.moveToHead = function(node) {\n        this.removeNode(node)\n        this.addToHead(node)\n    }\n\n    this.removeTail = function() {\n        const res = this.tail.prev\n        this.removeNode(res)\n        return res\n    }\n};\n\n/** \n * @param {number} key\n * @return {number}\n */\nLRUCache.prototype.get = function(key) {\n    const node = this.cache.get(key)\n    if (node === undefined || node === null) {\n        return -1\n    }\n    this.moveToHead(node)\n    return node.value\n};\n\n/** \n * @param {number} key \n * @param {number} value\n * @return {void}\n */\nLRUCache.prototype.put = function(key, value) {\n    const node = this.cache.get(key)\n    if (node !== undefined && node !== null) {\n        node.value = value\n        this.moveToHead(node)\n        return\n    }\n    const newNode = new LinkedNode(key, value)\n    this.cache.set(key, newNode)\n    this.addToHead(newNode)\n    this.size++\n    if (this.size > this.capacity) {\n        const tail = this.removeTail()\n        this.cache.delete(tail.key)\n        --this.size\n    }\n};\n"})})]})}function r(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>s});var i=t(6540);const o={},c=i.createContext(o);function a(e){const n=i.useContext(c);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(c.Provider,{value:n},e.children)}}}]);